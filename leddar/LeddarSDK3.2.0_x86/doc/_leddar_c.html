<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Leddar™ SDK: Leddar&trade; SDK C Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Leddar.ico"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Leddar™ SDK
   &#160;<span id="projectnumber">3.2</span>
   </div>
   <div id="projectbrief">Programmer&#39;s interface to Leddar™ sensors</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Welcome to the Leddar&trade; SDK!</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Leddar&trade; SDK C Interface </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="LC_Intro"></a>
Introduction</h1>
<p>LeddarC is a set of functions that allows you to control a Leddar&trade; sensor or replay data from a Leddar&trade; record file.</p>
<p>LeddarC follows an object-oriented style of programming. Functions operating on the sensor take as their first parameter a handle that is created by <a class="el" href="_leddar_c_8h_aa5076bc03ffbf1b4a90729ea505237ce.html#aa5076bc03ffbf1b4a90729ea505237ce">LeddarCreate</a> or <a class="el" href="_leddar_c_8h_a3a956f978eed5be5ebc4785b5e9cedc3.html#a3a956f978eed5be5ebc4785b5e9cedc3">LeddarCreateWithConsole</a>. Once you have finished working with a sensor the handle should be free with <a class="el" href="_leddar_c_8h_a439ca18af6c20d66ffe9642ec3dea4a6.html#a439ca18af6c20d66ffe9642ec3dea4a6">LeddarDestroy</a>.</p>
<p>The reference guide for LeddarC is here: <a class="el" href="_leddar_c_8h.html" title="Declarations for the C interface of the Leddar Enabler. ">LeddarC.h</a></p>
<h1><a class="anchor" id="LC_InstW"></a>
Installation for Linux</h1>
<p>The header and lib files needed to compile a program using LeddarC are installed in the main Leddar&trade; software installation directory. The DLL is also in that same directory. This directory is added to the PATH variable so that the DLL is found when your program runs. However if you distribute your application to other PCs, you will have to copy all DLL files in the directory to the other PCs.</p>
<p>Two environment variables are also created:</p>
<ul>
<li>LEDDARTECH_HEADERS Points to the directory where header files are located.</li>
<li>LEDDARTECH_LIBS Points to the directory where lib files are located.</li>
</ul>
<p>Currently these 2 variables point to the same location. You can use them to configure the search paths for the compiler and linker.</p>
<h1><a class="anchor" id="LC_InstW"></a>
Installation for Linux</h1>
<p>If you can read this you already have installed the SDK!</p>
<p>Leddar SDK Requirements:</p>
<ul>
<li>gcc 4.8 and above</li>
<li>QT 5</li>
<li>libxml2</li>
<li>libusb</li>
</ul>
<p>To compile your program, you need to specify the QT library path to the compiler. You also need to specify the LeddarC includes that you can found in the Includes folder.</p>
<p>To run your program, you need to set the environment variable LD_LIBRARY_PATH to the QT lib path. The Leddar shared objects (in the Release folder) are linked so that they are searched for in the current directory. If you want to run a program that uses the SDK in a different directory, you will have to copy the .so files to a directory that is in the library search path of your system.</p>
<p>There is an example of makefile in the LeddarCDemo folder and an example of a script to run your program in the Release folder.</p>
<p>IMPORTANT: On Linux, you need to set permission to USB ports otherwise you need to run your program as root to connect to the sensors.</p>
<h1><a class="anchor" id="Usage"></a>
Usage</h1>
<p>Looking at the <a class="el" href="_examples.html#LeddarCEx">LeddarC Example</a> you should quickly be able to write programs using LeddarC. However here is a quick summary of the typical steps involved:</p>
<ul>
<li>Create a new handle using <a class="el" href="_leddar_c_8h_aa5076bc03ffbf1b4a90729ea505237ce.html#aa5076bc03ffbf1b4a90729ea505237ce">LeddarCreate</a> or <a class="el" href="_leddar_c_8h_a3a956f978eed5be5ebc4785b5e9cedc3.html#a3a956f978eed5be5ebc4785b5e9cedc3">LeddarCreateWithConsole</a>.</li>
<li>Optionally list available sensors using <a class="el" href="_leddar_c_8h_acc493e8e47ad33ed87e3d5621fefdebb.html#acc493e8e47ad33ed87e3d5621fefdebb">LeddarListSensors</a>.</li>
<li>Connect to the chosen sensor using <a class="el" href="_leddar_c_8h_accc98c1eb36fa8b4c6dfb518b6b2d46c.html#accc98c1eb36fa8b4c6dfb518b6b2d46c">LeddarConnect</a> (or alternatively to replay a record file use <a class="el" href="_leddar_c_8h_ae397ce4a18ec1197e53d67ab5d37b70b.html#ae397ce4a18ec1197e53d67ab5d37b70b">LeddarLoadRecord</a>).</li>
<li>If you need to change configuration parameters use <a class="el" href="_leddar_c_8h_a0009386725d5bc06ea1bcafee1968fea.html#a0009386725d5bc06ea1bcafee1968fea">LeddarSetProperty</a>. If you change parameters, you must commit them to the sensor using <a class="el" href="_leddar_c_8h_aeb836bf403a1c59d5d8d52c4e2e4f577.html#aeb836bf403a1c59d5d8d52c4e2e4f577">LeddarWriteConfiguration</a>.</li>
<li>If you need to read the current configuration paramters use <a class="el" href="_leddar_c_8h_ac4e86639e90c6290bac395425692219e.html#ac4e86639e90c6290bac395425692219e">LeddarGetProperty</a>.</li>
<li>To receive data from the sensor, call LeddarStartTransfer (see next paragraph for more details on reading the data).</li>
<li>When finished, disconnect from the sensor (or close the file) using <a class="el" href="_leddar_c_8h_a9504ba227b4aa9ef2fb56dfd7755e9e7.html#a9504ba227b4aa9ef2fb56dfd7755e9e7">LeddarDisconnect</a>.</li>
<li>Free resources by calling <a class="el" href="_leddar_c_8h_a439ca18af6c20d66ffe9642ec3dea4a6.html#a439ca18af6c20d66ffe9642ec3dea4a6">LeddarDestroy</a>.</li>
</ul>
<p>Once you have called LeddarStartTransfer, data is continuously read from the sensor on a worker thread. If you just call <a class="el" href="_leddar_c_8h_a9491ecb8f0808b5b086a1ce6672e151d.html#a9491ecb8f0808b5b086a1ce6672e151d">LeddarGetDetectionCount</a> and <a class="el" href="_leddar_c_8h_abb4839f33b6f5e6cb5184bc15794ad5a.html#abb4839f33b6f5e6cb5184bc15794ad5a">LeddarGetDetections</a> you are not guaranteed to get coherent data. You should register a callback function with <a class="el" href="_leddar_c_8h_ab8790a9703878513a53f81a637c330cb.html#ab8790a9703878513a53f81a637c330cb">LeddarSetCallback</a> and do all your data reading in that function (taking into account that it is running on the worker thread). When working with a file you can use this method, but it is not mandatory. Everything happens in the main thread. So you can call <a class="el" href="_leddar_c_8h_a2c2e1e7d64bdf4960378894befd3b69f.html#a2c2e1e7d64bdf4960378894befd3b69f">LeddarStepForward</a> and then read the data. Data will be stable until the next call to <a class="el" href="_leddar_c_8h_a2c2e1e7d64bdf4960378894befd3b69f.html#a2c2e1e7d64bdf4960378894befd3b69f">LeddarStepForward</a>, <a class="el" href="_leddar_c_8h_a8bf1f8eca8efb7a2b2c60c63fa46a694.html#a8bf1f8eca8efb7a2b2c60c63fa46a694">LeddarStepBackward</a> or <a class="el" href="_leddar_c_8h_a2e7e091c8eb2279700e1d1f344634648.html#a2e7e091c8eb2279700e1d1f344634648">LeddarMoveRecordTo</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 1 2016 15:03:58 for Leddar™ SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
